[{"C:\\Users\\Raji Lateef\\Desktop\\Repo\\devcenter\\client\\src\\index.js":"1","C:\\Users\\Raji Lateef\\Desktop\\Repo\\devcenter\\client\\src\\reportWebVitals.js":"2","C:\\Users\\Raji Lateef\\Desktop\\Repo\\devcenter\\client\\src\\App.js":"3","C:\\Users\\Raji Lateef\\Desktop\\Repo\\devcenter\\client\\src\\pages\\UserPage.js":"4","C:\\Users\\Raji Lateef\\Desktop\\Repo\\devcenter\\client\\src\\components\\CardHeader.js":"5","C:\\Users\\Raji Lateef\\Desktop\\Repo\\devcenter\\client\\src\\components\\Card.js":"6","C:\\Users\\Raji Lateef\\Desktop\\Repo\\devcenter\\client\\src\\components\\Pagination.js":"7","C:\\Users\\Raji Lateef\\Desktop\\Repo\\devcenter\\client\\src\\components\\SideFilters.js":"8"},{"size":506,"mtime":1610312081049,"results":"9","hashOfConfig":"10"},{"size":362,"mtime":1606142540521,"results":"11","hashOfConfig":"10"},{"size":282,"mtime":1610230865428,"results":"12","hashOfConfig":"10"},{"size":4815,"mtime":1610305236366,"results":"13","hashOfConfig":"10"},{"size":1316,"mtime":1610305019531,"results":"14","hashOfConfig":"10"},{"size":2352,"mtime":1610305040919,"results":"15","hashOfConfig":"10"},{"size":1151,"mtime":1610229297788,"results":"16","hashOfConfig":"10"},{"size":2182,"mtime":1610304972196,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"1k7c6yt",{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"27","usedDeprecatedRules":"20"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"C:\\Users\\Raji Lateef\\Desktop\\Repo\\devcenter\\client\\src\\index.js",[],["37","38"],"C:\\Users\\Raji Lateef\\Desktop\\Repo\\devcenter\\client\\src\\reportWebVitals.js",[],"C:\\Users\\Raji Lateef\\Desktop\\Repo\\devcenter\\client\\src\\App.js",[],"C:\\Users\\Raji Lateef\\Desktop\\Repo\\devcenter\\client\\src\\pages\\UserPage.js",["39"],"import React, { useEffect, useState } from \"react\";\r\nimport Card from \"../components/Card\";\r\nimport CardHeader from \"../components/CardHeader\";\r\nimport Pagination from \"../components/Pagination\";\r\nimport SideFilters from \"../components/SideFilters\";\r\n\r\nfunction UserPage() {\r\n  const [loading, setLoading] = useState(true);\r\n  const [noOfProfiles, setNoOfProfiles] = useState(null);\r\n  const [fetchedData, setFetchedData] = useState(null);\r\n  const [profiles, setProfiles] = useState([]);\r\n  const [pageSize] = useState(20);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      fetch(process.env.REACT_APP_API_KEY)\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          if (data) {\r\n            const { records } = data;\r\n            setNoOfProfiles(records.profiles.length);\r\n            setFetchedData(records.profiles);\r\n            const formatData = renderProfile(records.profiles, currentPage);\r\n            setProfiles(formatData);\r\n            setLoading(false);\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    };\r\n\r\n    if (!fetchedData) {\r\n      fetchData();\r\n    }\r\n  }, [fetchedData, currentPage]);\r\n\r\n  const renderProfile = (\r\n    data,\r\n    pageNumber = null,\r\n    category = \"\",\r\n    filterOption = \"\",\r\n    searchInput = \"\"\r\n  ) => {\r\n    if (!searchInput || searchInput.trim().length === 0) {\r\n      searchInput = false;\r\n    }\r\n\r\n    let renderData = data;\r\n\r\n    // PAGINATION\r\n    if (pageNumber) {\r\n      const start = pageSize * (pageNumber - 1);\r\n      const end = start + pageSize;\r\n      renderData = renderData.slice(start, end);\r\n    }\r\n\r\n    // FILTER BY GENDER\r\n    if (category === \"gender\") {\r\n      renderData = renderData.filter(\r\n        ({ Gender, FirstName }) =>\r\n          Gender.toLowerCase() === filterOption &&\r\n          (searchInput\r\n            ? RegExp(`^${searchInput}`, \"ig\").test(FirstName.toLowerCase())\r\n            : true)\r\n      );\r\n    }\r\n\r\n    // FILTER BY PAYMENT METHOD\r\n    if (category === \"creditCardType\") {\r\n      renderData = renderData.filter(\r\n        ({ CreditCardType, FirstName }) =>\r\n          CreditCardType.toLowerCase() === filterOption &&\r\n          (searchInput\r\n            ? RegExp(`^${searchInput}`, \"ig\").test(FirstName.toLowerCase())\r\n            : true)\r\n      );\r\n    }\r\n\r\n    // SEARCH BY FIRST NAME\r\n    if (category === \"searchByName\") {\r\n      renderData = renderData.filter(({ FirstName }) =>\r\n        searchInput\r\n          ? RegExp(`^${searchInput}`, \"ig\").test(FirstName.toLowerCase())\r\n          : true\r\n      );\r\n    }\r\n\r\n    return renderData.map((obj, index) => {\r\n      return (\r\n        <div key={index}>\r\n          <Card item={obj} />\r\n        </div>\r\n      );\r\n    });\r\n  };\r\n\r\n  const handleFilters = (category, filterOption) => {\r\n    const data = renderProfile(\r\n      fetchedData,\r\n      currentPage,\r\n      category,\r\n      filterOption,\r\n      null\r\n    );\r\n    setProfiles(data);\r\n  };\r\n\r\n  const handleSearch = (value) => {\r\n    const data = renderProfile(\r\n      fetchedData,\r\n      currentPage,\r\n      \"searchByName\",\r\n      \"\",\r\n      value.trim().toLowerCase()\r\n    );\r\n    setProfiles(data);\r\n  };\r\n\r\n  const handlePagination = (pageNumber) => {\r\n    if (pageNumber < 1) return;\r\n\r\n    const data = renderProfile(fetchedData, pageNumber);\r\n    setProfiles(data);\r\n    setCurrentPage(pageNumber);\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"d-flex justify-content-center align-items-center\">\r\n        <h1>Loading....</h1>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"d-flex flex-column align-items-center\">\r\n        <div>\r\n          {noOfProfiles ? (\r\n            <div className=\"w-100\">\r\n              <CardHeader\r\n                total={noOfProfiles}\r\n                activePage={currentPage}\r\n                handleSearch={handleSearch}\r\n              />\r\n            </div>\r\n          ) : null}\r\n          {profiles && profiles.length > 0 ? (\r\n            <div className=\"d-lg-flex justify-content-between flex-lg-row flex-sm-row\">\r\n              <div className=\"mr-2\">\r\n                <SideFilters handleFilters={handleFilters} />\r\n              </div>\r\n              <div>{profiles}</div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"d-flex justify-content-center align-items-center mt-5\">\r\n              <h1>NO record available</h1>\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div className=\"\">\r\n          <br />\r\n          <Pagination\r\n            total={noOfProfiles}\r\n            currentPage={currentPage}\r\n            profilePerPage={20}\r\n            paginate={handlePagination}\r\n          />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default UserPage;\r\n","C:\\Users\\Raji Lateef\\Desktop\\Repo\\devcenter\\client\\src\\components\\CardHeader.js",[],"C:\\Users\\Raji Lateef\\Desktop\\Repo\\devcenter\\client\\src\\components\\Card.js",[],["40","41"],"C:\\Users\\Raji Lateef\\Desktop\\Repo\\devcenter\\client\\src\\components\\Pagination.js",[],"C:\\Users\\Raji Lateef\\Desktop\\Repo\\devcenter\\client\\src\\components\\SideFilters.js",[],{"ruleId":"42","replacedBy":"43"},{"ruleId":"44","replacedBy":"45"},{"ruleId":"46","severity":1,"message":"47","line":37,"column":6,"nodeType":"48","endLine":37,"endColumn":32,"suggestions":"49"},{"ruleId":"42","replacedBy":"50"},{"ruleId":"44","replacedBy":"51"},"no-native-reassign",["52"],"no-negated-in-lhs",["53"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'renderProfile'. Either include it or remove the dependency array.","ArrayExpression",["54"],["52"],["53"],"no-global-assign","no-unsafe-negation",{"desc":"55","fix":"56"},"Update the dependencies array to be: [fetchedData, currentPage, renderProfile]",{"range":"57","text":"58"},[1224,1250],"[fetchedData, currentPage, renderProfile]"]